<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>openD unified API: Code examples</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="openD_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" class="container">
<div class="row">
  <div class="col-md-3" id="projectlogo"><img alt="Logo" src="openD_by_dectForum_stackforce_uleA.svg" style="height: 100%; width: 100%;"/></div>
  <div class="col-md-6" id="projectalign">
   <div id="projectname">openD unified API
   &#160;<span id="projectnumber">1.0.0-alpha.2</span>
   </div>
  </div>
</div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md_doc_markdown_examples.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Code examples </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Introduction</h1>
<p>This wiki pages defines the sample code which shall be available for the openD framework. The motivation is to provide an example for the different openD unified API's. The example codes cover the management and the control of a DECT device and especially, the implementation of the DECT ULE profiles.</p>
<p>In general, every code example provides a minimal implementation. The sample codes define the usage of the Request-Confirm and Indication-Response principle related to the specific use case.</p>
<h1>Generic example</h1>
<p>The openD framework API's follow the Request-Confirm and Indication-Response principle. This chapter provides an example on how to perform a Request to select the DECT mode for the device. The example shows how to use the Management API including the Request and Confirm primitives.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="opend__api_8h.html">opend_api.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="opend__mgmt__api_8h.html">opend_mgmt_api.h</a>&quot;</span></div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> mgmtApiConfirm( <a class="code" href="group___o_p_e_n_d___m_g_m_t___a_p_i.html#structopen_d__mgmt_api_confirm">openD_mgmtApiConfirm_t</a> *mConfirm )</div><div class="line">{</div><div class="line">    <span class="keywordflow">switch</span>( mConfirm-&gt;<a class="code" href="group___o_p_e_n_d___m_g_m_t___a_p_i.html#a737e7502276473369580e4f7eac43d1b">type</a> )</div><div class="line">    {</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___o_p_e_n_d___m_g_m_t___a_p_i.html#gga984303916cd86e87dcc91a211410af9da1946a7db65aeda592eed91a6da3917a4">MGMTAPI_DECTMODE</a>:</div><div class="line">        {</div><div class="line">            <span class="keywordflow">if</span>( mConfirm-&gt;<a class="code" href="group___o_p_e_n_d___m_g_m_t___a_p_i.html#a48f1987e6aa5875753ab91b9643a32be">status</a> == <a class="code" href="group___o_p_e_n_d___d_a_t_a_t_y_p_e_s.html#gga67c4237b926c86d002d55db3c17a494fa5abdabeca64c8d6cd4f6a9ab2ac51230">OPEND_STATUS_OK</a> )</div><div class="line">            {</div><div class="line">                <span class="comment">// The operation was successful. We are now operating</span></div><div class="line">                <span class="comment">// in fixed part mode</span></div><div class="line">            }</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">default</span>:</div><div class="line">        {</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> mgmtApiIndication( <a class="code" href="group___o_p_e_n_d___m_g_m_t___a_p_i.html#structopen_d__mgmt_api_indication">openD_mgmtApiIndication_t</a> *mIndication )</div><div class="line">{</div><div class="line">    <span class="comment">// Not important for this example</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main( <span class="keywordtype">void</span> )</div><div class="line">{</div><div class="line">    <a class="code" href="structopen_d__mgmt_api_primitives.html">openD_mgmtApiPrimitives_t</a> mPrimitives;</div><div class="line">    <a class="code" href="group___o_p_e_n_d___m_g_m_t___a_p_i.html#structopen_d__mgmt_api_req">openD_mgmtApiReq_t</a> mRequest;</div><div class="line"></div><div class="line">    <span class="comment">// Init openD</span></div><div class="line">    <span class="keywordflow">if</span>( <a class="code" href="group___o_p_e_n_d___a_p_i.html#gadca6e6ee6ece6e3d4d556ccba1bb9d45">openD_init</a>( ) == <a class="code" href="group___o_p_e_n_d___d_a_t_a_t_y_p_e_s.html#gga67c4237b926c86d002d55db3c17a494fa5abdabeca64c8d6cd4f6a9ab2ac51230">OPEND_STATUS_OK</a> )</div><div class="line">    {</div><div class="line">        <span class="comment">// Operation was successful</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Fill mPrimitives with correct parameter settings</span></div><div class="line">    mPrimitives.<a class="code" href="structopen_d__mgmt_api_primitives.html#ac2da024aa5130c55fef311af4ca5b292">openD_mgmtApiConfirm</a> = mgmtApiConfirm;</div><div class="line">    mPrimitives.<a class="code" href="structopen_d__mgmt_api_primitives.html#ab54fddcb5b6c9535646ff1bd6a6eb328">openD_mgmtApiIndication</a> = mgmtApiIndication;</div><div class="line"></div><div class="line">    <span class="comment">// Call init</span></div><div class="line">    <span class="keywordflow">if</span>( <a class="code" href="group___o_p_e_n_d___m_g_m_t___a_p_i.html#ga0e21639f3372d0277e24b30b660b3f88">openD_mgmtApi_init</a>( &amp;mPrimitives ) == <a class="code" href="group___o_p_e_n_d___d_a_t_a_t_y_p_e_s.html#gga67c4237b926c86d002d55db3c17a494fa5abdabeca64c8d6cd4f6a9ab2ac51230">OPEND_STATUS_OK</a> )</div><div class="line">    {</div><div class="line">        <span class="comment">// Operation was successful</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Prepare service</span></div><div class="line">    mRequest.<a class="code" href="group___o_p_e_n_d___m_g_m_t___a_p_i.html#a2d3c5286d748a5e013a5a8193d2ae2a0">type</a> = <a class="code" href="group___o_p_e_n_d___m_g_m_t___a_p_i.html#gga984303916cd86e87dcc91a211410af9da1946a7db65aeda592eed91a6da3917a4">MGMTAPI_DECTMODE</a>;</div><div class="line">    mRequest.<a class="code" href="group___o_p_e_n_d___m_g_m_t___a_p_i.html#abacccb1ef00c991c990698d6c1b55c9a">param</a>.dectMode = <a class="code" href="group___o_p_e_n_d___m_g_m_t___a_p_i.html#gga6e2f48c2947f4c94e6c7ac5f615eab5da9c7f6b3c1abd3d8527ed5caa7bac9ce0">MGMTAPI_DECTMODE_FP</a>;</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>( <a class="code" href="group___o_p_e_n_d___m_g_m_t___a_p_i.html#gadfb1b4640c9e683ae4f6aedf39e9b353">openD_mgmtApi_request</a>( &amp;mRequest ) == <a class="code" href="group___o_p_e_n_d___d_a_t_a_t_y_p_e_s.html#gga67c4237b926c86d002d55db3c17a494fa5abdabeca64c8d6cd4f6a9ab2ac51230">OPEND_STATUS_OK</a> )</div><div class="line">    {</div><div class="line">        <span class="comment">// Operation was successful. We are waiting now for the confirmation</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span>( 1 )</div><div class="line">    {</div><div class="line">        <span class="comment">// Do something</span></div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --><h1>OpenD API</h1>
<h2>Initialization</h2>
<p>This is an example application which shows how to initialize the openD framework. This sample code can be used for every application to setup the openD framework properly.</p>
<h1>Management API</h1>
<p>The example codes of the Management API cover all services which are available to manage the DECT device:</p>
<ul>
<li>Select DECT mode <blockquote class="doxtable">
<p>This example explains how to configure a Request with the service <code>MGMTAPI_DECTMODE</code>. The examples cover the services <code>MGMTAPI_DECTMODE_FP</code>, <code>MGMTAPI_DECTMODE_PP</code>, <code>MGMTAPI_DECTMODE_HF</code> and <code>MGMTAPI_DECTMODE_SIXLOWPAN</code>. In general, the sample codes for those use cases provide an introduction on how to initiate and switch the DECT mode for the device. </p>
</blockquote>
</li>
<li>Power down control <blockquote class="doxtable">
<p>This example explains how to configure a Request with the service <code>MGMTAPI_POWER_DOWN_CTRL</code>. This example handles the low power modes of the framework. </p>
</blockquote>
</li>
<li>Wake up <blockquote class="doxtable">
<p>This example explains how to configure a Request with the service <code>MGMTAPI_WAKE_UP</code>. This example provides an introduction on how to use the API to wake up the device from low power modes. </p>
</blockquote>
</li>
<li>Keep alive <blockquote class="doxtable">
<p>This example explains how to configure a Request with the service <code>MGMTAPI_KEEP_ALIVE</code>. The example contains the handling of primitive events. </p>
</blockquote>
</li>
</ul>
<h1>Audio API</h1>
<p>The example codes of the Audio API cover all services which are available to change audio settings on a DECT device:</p>
<ul>
<li>Mute <blockquote class="doxtable">
<p>This example explains how to configure a Request with the service <code>AUDIOAPI_MUTE</code>. The goal of this example is to mute the DECT device. </p>
</blockquote>
</li>
<li>Change volume <blockquote class="doxtable">
<p>This example explains how to configure a Request with the service <code>AUDIOAPI_VOLUME</code>. This service configures the volume level of the DECT device. </p>
</blockquote>
</li>
</ul>
<h1>Subscription API</h1>
<p>The example codes of the Subscribe API cover all services which are available to perform subscription services a DECT device:</p>
<ul>
<li>Enable subscription <blockquote class="doxtable">
<p>This example explains how to configure a Request with the service <code>SUBAPI_SUBSCRIBE_ENABLE</code>. This Request configures the device to allow the subscription. This configuration is necessary to subscribe a device. </p>
</blockquote>
</li>
<li>Subscribe <blockquote class="doxtable">
<p>This example explains how to configure a Request with the service <code>SUBAPI_SUBSCRIBE</code>. This example shows how to subscribe a DECT device, e.g. a handset. </p>
</blockquote>
</li>
<li>Subscription delete <blockquote class="doxtable">
<p>This example explains how to configure a Request with the service <code>SUBAPI_SUBSCRIPTION_DELETE</code>. This example shows how to remove a subscription. </p>
</blockquote>
</li>
<li>Set access code <blockquote class="doxtable">
<p>This example explains how to configure a Request with the service <code>SUBAPI_SET_AC</code>. The purpose of this example is to show how an access code can be configures on a DECT device. </p>
</blockquote>
</li>
</ul>
<h1>HAN FUN API</h1>
<p>The example codes of the HAN FUN API cover all profiles and the related services which are available to configure a DECT ULE device:</p>
<ul>
<li>Profile <code>HANFUNAPI_SIMPLE_ONOFF_SWITCHABLE</code>:</li>
<li>Profile <code>HANFUNAPI_SIMPLE_ONOFF_SWITCH</code>:</li>
<li>Profile <code>HANFUNAPI_SIMPLE_LEVEL_CONTROLLABLE</code>:</li>
<li>Profile <code>HANFUNAPI_SIMPLE_LEVEL_CONTROL</code>:</li>
<li>Profile <code>HANFUNAPI_SIMPLE_LEVEL_CONTROLLABLE_SWITCHABLE</code>:</li>
<li>Profile <code>HANFUNAPI_SIMPLE_LEVEL_CONTROL_SWITCH</code>:</li>
<li>Profile <code>HANFUNAPI_AC_OUTLET</code>:</li>
<li>Profile <code>HANFUNAPI_AC_OUTLET_WITH_POWER_METERING</code>:</li>
<li>Profile <code>HANFUNAPI_SIMPLE_LIGHT</code>:</li>
<li>Profile <code>HANFUNAPI_DIMMABLE_LIGHT</code>: </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
